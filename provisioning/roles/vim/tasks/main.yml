---

- name: Set up Vundle
  become: no
  git:
    dest: /home/vagrant/.vim/bundle/Vundle.vim
    repo: https://github.com/VundleVim/Vundle.vim.git

- name: Init ~/.vimrc
  become: no
  copy:
    dest: /home/vagrant/.vimrc
    src: .vimrc

- name: Configure Plugins
  become: no
  lineinfile:
    path: "/home/vagrant/.vimrc"
    line: "{{ item }}"
    insertafter: "\" Plugins :"
  with_items: "{{ vim_plugins }}"
  when: vim_plugins

- name: Install Plugins
  become: no
  command: vim +PluginInstall +qall
